{
  "entityType" : "RULE_CHAIN",
  "entity" : {
    "additionalInfo" : null,
    "configuration" : null,
    "debugMode" : true,
    "externalId" : null,
    "firstRuleNodeId" : {
      "entityType" : "RULE_NODE",
      "id" : "3c148c40-3101-11eb-8887-e94257e8a11b"
    },
    "id" : {
      "entityType" : "RULE_CHAIN",
      "id" : "3c0a04f0-3101-11eb-8887-e94257e8a11b"
    },
    "name" : "New Threshold Alarm Handling",
    "root" : false,
    "type" : "CORE"
  },
  "metaData" : {
    "connections" : [ {
      "fromIndex" : 1,
      "toIndex" : 0,
      "type" : "Failure"
    }, {
      "fromIndex" : 1,
      "toIndex" : 23,
      "type" : "Success"
    }, {
      "fromIndex" : 2,
      "toIndex" : 1,
      "type" : "True"
    }, {
      "fromIndex" : 3,
      "toIndex" : 2,
      "type" : "True"
    }, {
      "fromIndex" : 3,
      "toIndex" : 18,
      "type" : "Failure"
    }, {
      "fromIndex" : 3,
      "toIndex" : 18,
      "type" : "False"
    }, {
      "fromIndex" : 3,
      "toIndex" : 18,
      "type" : "True"
    }, {
      "fromIndex" : 4,
      "toIndex" : 7,
      "type" : "Failure"
    }, {
      "fromIndex" : 4,
      "toIndex" : 22,
      "type" : "Success"
    }, {
      "fromIndex" : 5,
      "toIndex" : 11,
      "type" : "True"
    }, {
      "fromIndex" : 6,
      "toIndex" : 8,
      "type" : "True"
    }, {
      "fromIndex" : 8,
      "toIndex" : 9,
      "type" : "Failure"
    }, {
      "fromIndex" : 8,
      "toIndex" : 21,
      "type" : "Success"
    }, {
      "fromIndex" : 11,
      "toIndex" : 10,
      "type" : "Failure"
    }, {
      "fromIndex" : 11,
      "toIndex" : 20,
      "type" : "Success"
    }, {
      "fromIndex" : 12,
      "toIndex" : 5,
      "type" : "True"
    }, {
      "fromIndex" : 12,
      "toIndex" : 14,
      "type" : "Failure"
    }, {
      "fromIndex" : 12,
      "toIndex" : 14,
      "type" : "False"
    }, {
      "fromIndex" : 12,
      "toIndex" : 14,
      "type" : "True"
    }, {
      "fromIndex" : 13,
      "toIndex" : 6,
      "type" : "True"
    }, {
      "fromIndex" : 13,
      "toIndex" : 12,
      "type" : "Failure"
    }, {
      "fromIndex" : 13,
      "toIndex" : 12,
      "type" : "False"
    }, {
      "fromIndex" : 13,
      "toIndex" : 12,
      "type" : "True"
    }, {
      "fromIndex" : 14,
      "toIndex" : 3,
      "type" : "Failure"
    }, {
      "fromIndex" : 14,
      "toIndex" : 3,
      "type" : "False"
    }, {
      "fromIndex" : 14,
      "toIndex" : 3,
      "type" : "True"
    }, {
      "fromIndex" : 14,
      "toIndex" : 15,
      "type" : "True"
    }, {
      "fromIndex" : 15,
      "toIndex" : 4,
      "type" : "True"
    }, {
      "fromIndex" : 17,
      "toIndex" : 16,
      "type" : "Failure"
    }, {
      "fromIndex" : 17,
      "toIndex" : 19,
      "type" : "Success"
    }, {
      "fromIndex" : 18,
      "toIndex" : 17,
      "type" : "True"
    } ],
    "firstNodeIndex" : 13,
    "nodes" : [ {
      "additionalInfo" : {
        "layoutX" : 1022,
        "layoutY" : 692
      },
      "configuration" : {
        "jsScript" : "return 'no differential pressure limit check -' + 'Incoming message:\\n' + JSON.stringify(msg) + '\\nIncoming metadata:\\n' + JSON.stringify(metadata);"
      },
      "configurationVersion" : 0,
      "createdTime" : 0,
      "debugMode" : false,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "3c0faa40-3101-11eb-8887-e94257e8a11b"
      },
      "name" : "log no diff pressure limit check",
      "ruleChainId" : null,
      "singletonMode" : false,
      "type" : "org.thingsboard.rule.engine.action.TbLogNode"
    }, {
      "additionalInfo" : {
        "layoutX" : 777,
        "layoutY" : 573
      },
      "configuration" : {
        "jsScript" : "metadata.low = metadata.ss_diffPressureLow;\nmetadata.criticaldiff = metadata.ss_diffPressureCriticalDiff;\nmetadata.measure = msg.diffPressure;\nmetadata.measureName = 'DiffPressure';\nmetadata.measureUnit = 'Pa';\nmetadata.checkType = 'low';\n\nreturn {msg: msg, metadata: metadata, msgType: msgType};"
      },
      "configurationVersion" : 0,
      "createdTime" : 0,
      "debugMode" : false,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "3c101f70-3101-11eb-8887-e94257e8a11b"
      },
      "name" : "add diffPressure Limit Metadata",
      "ruleChainId" : null,
      "singletonMode" : false,
      "type" : "org.thingsboard.rule.engine.transform.TbTransformMsgNode"
    }, {
      "additionalInfo" : {
        "layoutX" : 466,
        "layoutY" : 574
      },
      "configuration" : {
        "messageNames" : [ ],
        "metadataNames" : [ "ss_diffPressureLow", "ss_diffPressureCriticalDiff" ],
        "checkAllKeys" : true
      },
      "configurationVersion" : 0,
      "createdTime" : 0,
      "debugMode" : false,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "3c106d90-3101-11eb-8887-e94257e8a11b"
      },
      "name" : "diffPressure Low",
      "ruleChainId" : null,
      "singletonMode" : false,
      "type" : "org.thingsboard.rule.engine.filter.TbCheckMessageNode"
    }, {
      "additionalInfo" : {
        "layoutX" : 192,
        "layoutY" : 575
      },
      "configuration" : {
        "messageNames" : [ "diffPressure" ],
        "metadataNames" : [ ],
        "checkAllKeys" : false
      },
      "configurationVersion" : 0,
      "createdTime" : 0,
      "debugMode" : false,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "3c10e2c0-3101-11eb-8887-e94257e8a11b"
      },
      "name" : "diffPressure Measure Exists",
      "ruleChainId" : null,
      "singletonMode" : false,
      "type" : "org.thingsboard.rule.engine.filter.TbCheckMessageNode"
    }, {
      "additionalInfo" : {
        "description" : null,
        "layoutX" : 749,
        "layoutY" : 459
      },
      "configuration" : {
        "jsScript" : "metadata.high = metadata.ss_particulateHigh;\nmetadata.criticaldiff = metadata.ss_particulateCriticalDiff;\nmetadata.measure = msg.DustParticulate;\nmetadata.measureName = 'DustParticulate';\nmetadata.measureUnit = 'μg/m³';\nmetadata.checkType = 'high';\n\nreturn {msg: msg, metadata: metadata, msgType: msgType};"
      },
      "configurationVersion" : 0,
      "createdTime" : 0,
      "debugMode" : false,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "3c1130e0-3101-11eb-8887-e94257e8a11b"
      },
      "name" : "add Particulate Limit Metadata",
      "ruleChainId" : null,
      "singletonMode" : false,
      "type" : "org.thingsboard.rule.engine.transform.TbTransformMsgNode"
    }, {
      "additionalInfo" : {
        "layoutX" : 420,
        "layoutY" : 344
      },
      "configuration" : {
        "messageNames" : [ ],
        "metadataNames" : [ "ss_humidityLow", "ss_humidityHigh", "ss_humidityCriticalDiff" ],
        "checkAllKeys" : true
      },
      "configurationVersion" : 0,
      "createdTime" : 0,
      "debugMode" : false,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "3c11cd20-3101-11eb-8887-e94257e8a11b"
      },
      "name" : "humidity High/Low",
      "ruleChainId" : null,
      "singletonMode" : false,
      "type" : "org.thingsboard.rule.engine.filter.TbCheckMessageNode"
    }, {
      "additionalInfo" : {
        "description" : null,
        "layoutX" : 412,
        "layoutY" : 229
      },
      "configuration" : {
        "messageNames" : [ ],
        "metadataNames" : [ "ss_tempHigh", "ss_tempLow", "ss_tempCriticalDiff" ],
        "checkAllKeys" : false
      },
      "configurationVersion" : 0,
      "createdTime" : 0,
      "debugMode" : false,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "3c121b40-3101-11eb-8887-e94257e8a11b"
      },
      "name" : "temperature High/Low",
      "ruleChainId" : null,
      "singletonMode" : false,
      "type" : "org.thingsboard.rule.engine.filter.TbCheckMessageNode"
    }, {
      "additionalInfo" : {
        "layoutX" : 1074,
        "layoutY" : 576
      },
      "configuration" : {
        "jsScript" : "return 'no particulate limit check -' + 'Incoming message:\\n' + JSON.stringify(msg) + '\\nIncoming metadata:\\n' + JSON.stringify(metadata);"
      },
      "configurationVersion" : 0,
      "createdTime" : 0,
      "debugMode" : false,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "3c126960-3101-11eb-8887-e94257e8a11b"
      },
      "name" : "log no particulate limit check",
      "ruleChainId" : null,
      "singletonMode" : false,
      "type" : "org.thingsboard.rule.engine.action.TbLogNode"
    }, {
      "additionalInfo" : {
        "description" : null,
        "layoutX" : 698,
        "layoutY" : 229
      },
      "configuration" : {
        "jsScript" : "metadata.high = parseFloat(metadata.ss_tempHigh);\nmetadata.low = parseFloat(metadata.ss_tempLow);\nmetadata.criticaldiff = parseFloat(metadata.ss_tempCriticalDiff);\nmetadata.measure = parseFloat(msg.temperature);\nmetadata.measureName = 'Temperature';\nmetadata.measureUnit = '°C';\nmetadata.checkType = 'highlow';\n\nreturn {msg: msg, metadata: metadata, msgType: msgType};"
      },
      "configurationVersion" : 0,
      "createdTime" : 0,
      "debugMode" : false,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "3c12de90-3101-11eb-8887-e94257e8a11b"
      },
      "name" : "add Temp Limit Metadata",
      "ruleChainId" : null,
      "singletonMode" : false,
      "type" : "org.thingsboard.rule.engine.transform.TbTransformMsgNode"
    }, {
      "additionalInfo" : {
        "layoutX" : 973,
        "layoutY" : 143
      },
      "configuration" : {
        "jsScript" : "return 'no temp limit check-' + 'Incoming message:\\n' + JSON.stringify(msg) + '\\nIncoming metadata:\\n' + JSON.stringify(metadata);"
      },
      "configurationVersion" : 0,
      "createdTime" : 0,
      "debugMode" : false,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "3c132cb0-3101-11eb-8887-e94257e8a11b"
      },
      "name" : "log no temp limit check",
      "ruleChainId" : null,
      "singletonMode" : false,
      "type" : "org.thingsboard.rule.engine.action.TbLogNode"
    }, {
      "additionalInfo" : {
        "layoutX" : 1054,
        "layoutY" : 215
      },
      "configuration" : {
        "jsScript" : "return 'no humidity limit check -' + 'Incoming message:\\n' + JSON.stringify(msg) + '\\nIncoming metadata:\\n' + JSON.stringify(metadata);"
      },
      "configurationVersion" : 0,
      "createdTime" : 0,
      "debugMode" : false,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "3c137ad0-3101-11eb-8887-e94257e8a11b"
      },
      "name" : "log no humidity limit check",
      "ruleChainId" : null,
      "singletonMode" : false,
      "type" : "org.thingsboard.rule.engine.action.TbLogNode"
    }, {
      "additionalInfo" : {
        "description" : null,
        "layoutX" : 713,
        "layoutY" : 345
      },
      "configuration" : {
        "jsScript" : "metadata.high = metadata.ss_humidityHigh;\nmetadata.low = metadata.ss_humidityLow;\nmetadata.criticaldiff = metadata.ss_humidityCriticalDiff;\nmetadata.measure = msg.humidity;\nmetadata.measureName = 'Humidity';\nmetadata.measureUnit = '%RH';\nmetadata.checkType = 'highlow';\n\nreturn {msg: msg, metadata: metadata, msgType: msgType};"
      },
      "configurationVersion" : 0,
      "createdTime" : 0,
      "debugMode" : false,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "3c13c8f0-3101-11eb-8887-e94257e8a11b"
      },
      "name" : "add Humidity Limit Metadata",
      "ruleChainId" : null,
      "singletonMode" : false,
      "type" : "org.thingsboard.rule.engine.transform.TbTransformMsgNode"
    }, {
      "additionalInfo" : {
        "layoutX" : 142,
        "layoutY" : 345
      },
      "configuration" : {
        "messageNames" : [ "humidity" ],
        "metadataNames" : [ ],
        "checkAllKeys" : false
      },
      "configurationVersion" : 0,
      "createdTime" : 0,
      "debugMode" : false,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "3c143e20-3101-11eb-8887-e94257e8a11b"
      },
      "name" : "humidity Measure Exists",
      "ruleChainId" : null,
      "singletonMode" : false,
      "type" : "org.thingsboard.rule.engine.filter.TbCheckMessageNode"
    }, {
      "additionalInfo" : {
        "layoutX" : 116,
        "layoutY" : 229
      },
      "configuration" : {
        "messageNames" : [ "temperature" ],
        "metadataNames" : [ ],
        "checkAllKeys" : false
      },
      "configurationVersion" : 0,
      "createdTime" : 0,
      "debugMode" : false,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "3c148c40-3101-11eb-8887-e94257e8a11b"
      },
      "name" : "temperature Measure Exists",
      "ruleChainId" : null,
      "singletonMode" : false,
      "type" : "org.thingsboard.rule.engine.filter.TbCheckMessageNode"
    }, {
      "additionalInfo" : {
        "layoutX" : 169,
        "layoutY" : 461
      },
      "configuration" : {
        "messageNames" : [ "DustParticulate" ],
        "metadataNames" : [ ],
        "checkAllKeys" : false
      },
      "configurationVersion" : 0,
      "createdTime" : 0,
      "debugMode" : false,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "3c14da60-3101-11eb-8887-e94257e8a11b"
      },
      "name" : "DustParticulate Measure Exists",
      "ruleChainId" : null,
      "singletonMode" : false,
      "type" : "org.thingsboard.rule.engine.filter.TbCheckMessageNode"
    }, {
      "additionalInfo" : {
        "layoutX" : 442,
        "layoutY" : 461
      },
      "configuration" : {
        "messageNames" : [ ],
        "metadataNames" : [ "ss_ParticulateHigh", "ss_particulateCriticalDiff" ],
        "checkAllKeys" : true
      },
      "configurationVersion" : 0,
      "createdTime" : 0,
      "debugMode" : false,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "3c152880-3101-11eb-8887-e94257e8a11b"
      },
      "name" : "particulate High",
      "ruleChainId" : null,
      "singletonMode" : false,
      "type" : "org.thingsboard.rule.engine.filter.TbCheckMessageNode"
    }, {
      "additionalInfo" : {
        "layoutX" : 955,
        "layoutY" : 765
      },
      "configuration" : {
        "jsScript" : "return 'no battery capacity limit check -' + 'Incoming message:\\n' + JSON.stringify(msg) + '\\nIncoming metadata:\\n' + JSON.stringify(metadata);"
      },
      "configurationVersion" : 0,
      "createdTime" : 0,
      "debugMode" : false,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "3c159db0-3101-11eb-8887-e94257e8a11b"
      },
      "name" : "log no battery capacity limit check",
      "ruleChainId" : null,
      "singletonMode" : false,
      "type" : "org.thingsboard.rule.engine.action.TbLogNode"
    }, {
      "additionalInfo" : {
        "layoutX" : 693,
        "layoutY" : 688
      },
      "configuration" : {
        "jsScript" : "\nmetadata.measure = msg.BatteryCapacity;\nmetadata.measureName = 'BatteryCapacity';\nmetadata.measureUnit = '';\nmetadata.checkType = 'battery';\n\nreturn {msg: msg, metadata: metadata, msgType: msgType};"
      },
      "configurationVersion" : 0,
      "createdTime" : 0,
      "debugMode" : false,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "3c15ebd0-3101-11eb-8887-e94257e8a11b"
      },
      "name" : "add BatteryCapacity Limit Metadata",
      "ruleChainId" : null,
      "singletonMode" : false,
      "type" : "org.thingsboard.rule.engine.transform.TbTransformMsgNode"
    }, {
      "additionalInfo" : {
        "layoutX" : 219,
        "layoutY" : 687
      },
      "configuration" : {
        "messageNames" : [ "BatteryCapacity" ],
        "metadataNames" : [ ],
        "checkAllKeys" : false
      },
      "configurationVersion" : 0,
      "createdTime" : 0,
      "debugMode" : false,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "3c1639f0-3101-11eb-8887-e94257e8a11b"
      },
      "name" : "BatteryCapacity Measure Exists",
      "ruleChainId" : null,
      "singletonMode" : false,
      "type" : "org.thingsboard.rule.engine.filter.TbCheckMessageNode"
    }, {
      "additionalInfo" : {
        "description" : null,
        "layoutX" : 1202,
        "layoutY" : 459,
        "ruleChainNodeId" : "rule-chain-node-21"
      },
      "configuration" : {
        "ruleChainId" : "7de37620-846e-11eb-90d1-8b374610ca7d"
      },
      "configurationVersion" : 0,
      "createdTime" : 0,
      "debugMode" : false,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "0b585b50-b6e5-11ee-b88b-791a828c489c"
      },
      "name" : "Check Measure Thresholds",
      "ruleChainId" : null,
      "singletonMode" : false,
      "type" : "org.thingsboard.rule.engine.flow.TbRuleChainInputNode"
    }, {
      "additionalInfo" : {
        "description" : null,
        "layoutX" : 1202,
        "layoutY" : 459,
        "ruleChainNodeId" : "rule-chain-node-21"
      },
      "configuration" : {
        "ruleChainId" : "7de37620-846e-11eb-90d1-8b374610ca7d"
      },
      "configurationVersion" : 0,
      "createdTime" : 0,
      "debugMode" : false,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "0b5acc50-b6e5-11ee-b88b-791a828c489c"
      },
      "name" : "Check Measure Thresholds",
      "ruleChainId" : null,
      "singletonMode" : false,
      "type" : "org.thingsboard.rule.engine.flow.TbRuleChainInputNode"
    }, {
      "additionalInfo" : {
        "description" : null,
        "layoutX" : 1202,
        "layoutY" : 459,
        "ruleChainNodeId" : "rule-chain-node-21"
      },
      "configuration" : {
        "ruleChainId" : "7de37620-846e-11eb-90d1-8b374610ca7d"
      },
      "configurationVersion" : 0,
      "createdTime" : 0,
      "debugMode" : false,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "0b5ca110-b6e5-11ee-b88b-791a828c489c"
      },
      "name" : "Check Measure Thresholds",
      "ruleChainId" : null,
      "singletonMode" : false,
      "type" : "org.thingsboard.rule.engine.flow.TbRuleChainInputNode"
    }, {
      "additionalInfo" : {
        "description" : null,
        "layoutX" : 1202,
        "layoutY" : 459,
        "ruleChainNodeId" : "rule-chain-node-21"
      },
      "configuration" : {
        "ruleChainId" : "7de37620-846e-11eb-90d1-8b374610ca7d"
      },
      "configurationVersion" : 0,
      "createdTime" : 0,
      "debugMode" : false,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "0b5e75d0-b6e5-11ee-b88b-791a828c489c"
      },
      "name" : "Check Measure Thresholds",
      "ruleChainId" : null,
      "singletonMode" : false,
      "type" : "org.thingsboard.rule.engine.flow.TbRuleChainInputNode"
    }, {
      "additionalInfo" : {
        "description" : null,
        "layoutX" : 1202,
        "layoutY" : 459,
        "ruleChainNodeId" : "rule-chain-node-21"
      },
      "configuration" : {
        "ruleChainId" : "7de37620-846e-11eb-90d1-8b374610ca7d"
      },
      "configurationVersion" : 0,
      "createdTime" : 0,
      "debugMode" : false,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "0b604a90-b6e5-11ee-b88b-791a828c489c"
      },
      "name" : "Check Measure Thresholds",
      "ruleChainId" : null,
      "singletonMode" : false,
      "type" : "org.thingsboard.rule.engine.flow.TbRuleChainInputNode"
    } ],
    "ruleChainConnections" : null
  },
  "relations" : [ ],
  "attributes" : {
    "SERVER_SCOPE" : [ ]
  }
}